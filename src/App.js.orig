import React, { useState } from 'react';
import './App.css';
import Video from './components/Video.js';
import Login from './components/Login.js';
import EditControls from './components/EditControls.js';
import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';

function App() {
  const [videoUrl, setVideoUrl] = useState('tgbNymZ7vqY');

  const handleChange = event => {
    setVideoUrl(event.target.value);
  };

  const [googleUser, setGoogleUser] = useState(null);

  const loggedIn = () => {
<<<<<<< HEAD
    debugger;
    if ( googleUser )
    {
=======
    if (googleUser) {
>>>>>>> master
      return googleUser.isSignedIn();
    }
    return false;
  };

<<<<<<< HEAD
  const authCheck = (props, Component) => {
    return loggedIn() ? <Component {...props} /> : <Header />;
=======
  const authCheck = (props, Component, props2, DefaultComponent) => {
    return loggedIn() ? <Component {...props} /> : <DefaultComponent {...props2} />;
>>>>>>> master
  };

  return (
    <Router>
      <div className="App">

<<<<<<< HEAD
        <Login setUser={(val) => { debugger; setGoogleUser( val ); }} />

=======
>>>>>>> master
        <form>
          <label>
            Your Youtube Video:
            <input
              type="text"
              name="videoUrl"
              value={videoUrl}
              onChange={event => handleChange(event)}
            />
          </label>
        </form>

        <Video videoUrl={videoUrl} />

        <Switch>
<<<<<<< HEAD

        <Route exact path="/" render={authCheck.bind(this, EditControls)}/>

=======
          <Route exact path="/" render={authCheck.bind(this, {}, EditControls, {setUser: (val => {setGoogleUser(val)})}, Login )} />
>>>>>>> master
        </Switch>
      </div>
    </Router>
  );
}

export default App;
